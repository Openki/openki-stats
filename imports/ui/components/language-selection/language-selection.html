<template name="languageSelectionWrap">
	{{#if searchingLanguages}}
		{{> languageSelection inNavbar=inNavbar}}
	{{else}}
		{{> languageDisplay inNavbar=inNavbar}}
	{{/if}}
</template>

<template name="languageSelection">
	<li class="language-selection {{inNavbarClasses}}">
		<form class="d-flex js-language-selection-form">
			<div class="input-group input-group-sm input-group-outline p-2">
				<span class="input-group-text"><span class="fa fa-language fa-fw"
						  aria-hidden="true"></span></span>
				<input type="text" class="form-control js-language-search"
					   value="{{setLanguage.name}}">
				<input class="d-none" type="submit">
				<button class="btn dropdown-toggle" data-bs-toggle="dropdown" role="button"
						aria-expanded="false" tabindex="-1"></button>
				<ul class="dropdown-menu dropdown-menu-end mx-2" role="menu">
					{{#if languages}}
						<li class="dropdown-header dropdown-legend">
							<span class="dropdown-addon-right">
								{{i18n 'languageSelection.legend.percTranslated' '% translated'}}
							</span>
							{{i18n 'languageSelection.legend.language' 'Language'}}
						</li>
						{{#each languages}}
							<li>
								<a href="#"
								   class="dropdown-item js-language-link js-nav-dropdown-close"
								   title="{{english}}">
									<span class="language-translated {{translated.rating}}">
										{{translated.percent}}
									</span>
									{{#if currentLanguage}}
										<span class="checkmark fa fa-check"></span>
									{{/if}}
									<div class="language-name">
										{{languageNameMarked}}
									</div>
								</a>
							</li>
						{{/each}}
					{{else}}
						<li>
							<a
							   class="dropdown-item">{{i18n 'languageSelection.noLanguagesFound' 'No languages found.'}}</a>
						</li>
					{{/if}}
					<li>
						<hr class="dropdown-divider">
					</li>
					<li>
						<a href="{{pathFor 'mfTrans'}}" class="dropdown-item">
							{{i18n 'Profile.translate_this_page' 'Help us to translate this Page'}}
						</a>
					</li>
				</ul>
			</div>
		</form>
	</li>
</template>

<template name="languageDisplay">
	<li class="{{inNavbarClasses}}">
		<a class="navbar-link js-language-display">
			<span class="fa fa-language fa-fw" aria-hidden="true"></span>
			{{setLanguage.short}}
		</a>
	</li>
</template>
